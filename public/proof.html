<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Proof Page</title>
  <link rel="stylesheet" href="css/styles.css">
  <style>
    .gallery {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .gallery img {
      max-width: 200px;
      border: 2px solid #333;
      cursor: pointer;
      border-radius: 8px;
    }
    #imgModal {
      display: none;
      position: fixed;
      z-index: 9999;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      justify-content: center;
      align-items: center;
    }
    #imgModal img {
      max-width: 90%;
      max-height: 90%;
      border: 3px solid #fff;
      border-radius: 10px;
    }
    #imgModal span {
      position: absolute;
      top: 20px;
      right: 40px;
      font-size: 40px;
      color: white;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Proof Images</h2>
    <div class="gallery" id="gallery"></div>
  </div>

  <div id="imgModal">
    <span onclick="closeModal()">&times;</span>
    <img id="modalImg">
  </div>

  <script>
    async function loadProof() {
      const res = await fetch("/proof-data");
      const data = await res.json();
      const gallery = document.getElementById("gallery");
      gallery.innerHTML = "";

      if (data.images && data.images.length > 0) {
        data.images.forEach(img => {
          const imageElem = document.createElement("img");
          imageElem.src = img;
          imageElem.onclick = () => showModal(img);
          gallery.appendChild(imageElem);
        });
      } else {
        gallery.innerHTML = "<p>No proof uploaded yet.</p>";
      }
    }

    function showModal(src) {
      document.getElementById("modalImg").src = src;
      document.getElementById("imgModal").style.display = "flex";
    }

    function closeModal() {
      document.getElementById("imgModal").style.display = "none";
    }

    loadProof();
  </script>
</body>
</html>
